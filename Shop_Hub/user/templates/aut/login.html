{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="flex justify-center items-center min-h-screen bg-gray-100">
    <div class="w-full max-w-md p-8 bg-white rounded-lg shadow-lg">
        <h1 class="text-2xl font-bold text-center text-gray-800 mb-6">Вход в систему</h1>
        <div style="text-align: center;">
        <form method="POST" class="space-y-4">
            {% csrf_token %}
            {{ form_login.as_p }}
            <button type="submit" class="w-full py-2 px-4 bg-blue-600 text-black font-semibold rounded-md hover:bg-blue-700 transition duration-300">
                Войти
            </button>
            {% if messages %}
                <div class="mt-3" id="messages-container">
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }} message" style="transition: all 0.5s ease-out;">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        </form>
        </div>
    </div>
</div>

<script>
// Функция для плавного исчезновения сообщений
function fadeOutMessages() {
    const messages = document.querySelectorAll('.message');
    messages.forEach((message, index) => {
        setTimeout(() => {
            message.style.opacity = '0';
            message.style.transform = 'translateX(20px)';
            setTimeout(() => {
                message.remove();
            }, 500);
        }, 3000 + (index * 500));
    });
}

// Запуск после загрузки страницы
document.addEventListener('DOMContentLoaded', function() {
    if (document.querySelectorAll('.message').length > 0) {
        fadeOutMessages();
    }
});
</script>
{% endblock %}
